{% extends "index.html" %} {% block content %}
<section class="bg-[#fff] min-h-[90vh] relative">
  <div
    class="absolute translate-x-[-50%] translate-y-[-50%] top-[70%] left-[50%] text-center w-[40%]"
  >
    <h1 class="text-3xl text-blue-950 font-semibold mb-[1rem]">
      Bridge the Gap Between Your Skills & Dream Job
    </h1>

    <form
      action="{{ url_for('views.dashboard') }}"
      method="POST"
      enctype="multipart/form-data"
    >
      <div class="flex justify-between items-center gap-[1rem] pt-[1rem]">
        <div class="">
          <label
            for="resume"
            class="cursor-pointer bg-blue-600 text-white py-3 px-3 rounded-lg shadow-md hover:bg-blue-700 transition-all"
          >
            üìÅ Upload Your Resume
          </label>

          <input
            type="file"
            name="resume"
            id="resume"
            class="hidden"
            onchange="updateFileName(this)"
          />

          <p id="file-name" class="text-white"></p>
        </div>

        <div
          class="outline-[1px] outline-black rounded-lg py-2 px-3 flex justify-between items-center"
        >
          <input
            type="text"
            name="job"
            id="job"
            class="outline-0"
            placeholder="Enter job title"
          />
          <button type="submit" class="cursor-pointer">
            <img src="{{url_for('static', filename='assets/a.svg')}}" alt="" />
          </button>
        </div>
      </div>
    </form>
  </div>

  <!-- Popup -->
  <div
    id="popup"
    class="fixed top-0 left-0 w-full h-full bg-[#000000a0] flex justify-center items-center px-4"
  >
    <div
      class="bg-white p-6 rounded-lg shadow-lg text-center w-[90%] md:w-[50%] lg:w-[40%] max-h-[80vh] overflow-y-auto"
    >
      <h3 class="text-2xl font-semibold text-blue-900 mb-3">
        üöÄ This project is currently under development
      </h3>
      <p class="text-gray-700 mb-4">
        Feel free to explore and experiment with it!
      </p>

      <div class="text-left">
        <h4 class="text-lg font-semibold text-gray-800 mb-2">Job Titles</h4>
        <p class="text-gray-600 mb-3">
          During development, only a limited selection of job titles is
          available.
        </p>

        <ul class="flex flex-wrap gap-3">
          {% for job in jobs %}
          <li
            class="bg-amber-200 text-gray-800 px-4 py-2 rounded-2xl shadow-sm"
          >
            {{ job }}
          </li>
          {% endfor %}
        </ul>
      </div>

      <button
        onclick="closePopup()"
        class="mt-6 bg-blue-600 text-white font-semibold py-2 px-5 rounded-lg shadow-md hover:bg-blue-700 transition-all cursor-pointer"
      >
        Close
      </button>
    </div>
  </div>
</section>

<script>
  function updateFileName(input) {
    const fileName = input.files[0] ? input.files[0].name : "";
    document.getElementById("file-name").innerText = fileName;

    // Show the popup
    if (fileName) {
      document.getElementById("popup").classList.remove("hidden");
    }
  }

  function closePopup() {
    document.getElementById("popup").classList.add("hidden");
  }

  function updateFileName(input) {
    const fileName = input.files.length
      ? input.files[0].name
      : "No file chosen";
    document.getElementById("file-name").textContent = fileName;
  }
</script>
{% endblock %}
